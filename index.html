<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyMind AI | Intelligent Study Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --primary-light: #4895ef;
            --secondary: #3a0ca3;
            --accent: #f72585;
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #f94144;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --gray-light: #e9ecef;
            --border-radius: 10px;
            --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7ff 0%, #f0f4ff 100%);
            color: var(--dark);
            line-height: 1.7;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: white;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo i {
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Hero */
        .hero {
            text-align: center;
            padding: 80px 20px 60px;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3.2rem;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.25rem;
            color: var(--gray);
            margin-bottom: 40px;
        }

        /* Articles */
        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 80px;
        }

        .article-card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            transition: var(--transition);
        }

        .article-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.12);
        }

        .article-header {
            padding: 25px;
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            color: white;
        }

        .article-header h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .article-content {
            padding: 25px;
        }

        .method-grid {
            display: grid;
            gap: 20px;
        }

        .method-item {
            padding: 15px;
            border-radius: 8px;
            background: var(--gray-light);
        }

        .method-item strong {
            display: block;
            margin-bottom: 8px;
            color: var(--secondary);
        }

        .strength {
            color: var(--success);
            font-weight: 600;
        }

        .weakness {
            color: var(--danger);
            font-weight: 600;
        }

        /* Diagnostic Section */
        .diagnostic-container {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            margin-bottom: 80px;
            position: relative;
            overflow: hidden;
        }

        .diagnostic-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .section-title {
            text-align: center;
            margin-bottom: 40px;
            color: var(--secondary);
            font-size: 2.2rem;
        }

        /* Upload Area */
        .upload-area {
            border: 3px dashed var(--gray-light);
            border-radius: var(--border-radius);
            padding: 60px 30px;
            text-align: center;
            margin-bottom: 40px;
            transition: var(--transition);
            cursor: pointer;
            background: #fafbff;
        }

        .upload-area:hover {
            border-color: var(--primary);
            background: #f5f8ff;
            transform: scale(1.01);
        }

        .upload-area.active {
            border-color: var(--success);
            background: #f0fff4;
        }

        .upload-icon {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 20px;
            display: block;
        }

        .upload-area h3 {
            margin-bottom: 15px;
            color: var(--dark);
        }

        .file-input {
            display: none;
        }

        .upload-btn {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            padding: 14px 32px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 1rem;
        }

        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(67, 97, 238, 0.3);
        }

        .selected-file {
            margin-top: 25px;
            padding: 20px;
            background: var(--gray-light);
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            gap: 15px;
            justify-content: center;
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 500;
        }

        .file-info i {
            color: var(--danger);
            font-size: 1.2rem;
        }

        /* Processing Animation */
        .processing-area {
            display: none;
            text-align: center;
            padding: 40px;
            background: #f8fbff;
            border-radius: var(--border-radius);
            margin: 30px 0;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--gray-light);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .ai-analysis {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin: 30px 0;
            display: none;
        }

        .ai-analysis h3 {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Quiz Section */
        .quiz-section {
            display: none;
            margin-top: 40px;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--gray-light);
        }

        .progress-bar {
            height: 8px;
            background: var(--gray-light);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--success));
            width: 0%;
            transition: width 0.5s ease;
        }

        .quiz-question {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid var(--primary);
        }

        .question-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: var(--gray);
        }

        .question-type {
            background: var(--gray-light);
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: 600;
        }

        .conceptual { background: #e3f2fd; color: #1565c0; }
        .application { background: #e8f5e9; color: #2e7d32; }
        .factual { background: #fff3e0; color: #ef6c00; }
        .critical { background: #f3e5f5; color: #7b1fa2; }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 25px;
            color: var(--dark);
            font-weight: 500;
        }

        .options-grid {
            display: grid;
            gap: 12px;
        }

        .option {
            padding: 18px 20px;
            border: 2px solid var(--gray-light);
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option:hover {
            border-color: var(--primary-light);
            background: #f8fbff;
        }

        .option.selected {
            border-color: var(--primary);
            background: #eef2ff;
        }

        .option.correct {
            border-color: var(--success);
            background: #f0fff4;
        }

        .option.incorrect {
            border-color: var(--danger);
            background: #fff5f5;
        }

        .option-letter {
            width: 36px;
            height: 36px;
            background: var(--gray-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .selected .option-letter {
            background: var(--primary);
            color: white;
        }

        /* Results Section */
        .results-section {
            display: none;
            margin-top: 40px;
        }

        .profile-card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 30px;
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .profile-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
        }

        .confidence-meter {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .meter {
            flex: 1;
        }

        .meter-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .meter-bar {
            height: 12px;
            background: var(--gray-light);
            border-radius: 6px;
            overflow: hidden;
        }

        .meter-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--danger), var(--warning), var(--success));
            width: 0%;
            transition: width 1.5s ease;
        }

        .topics-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .topic-item {
            padding: 20px;
            border-radius: 8px;
            background: var(--gray-light);
        }

        .topic-item.strong {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border-left: 4px solid var(--success);
        }

        .topic-item.weak {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            border-left: 4px solid var(--danger);
        }

        .topic-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        /* Study Plan */
        .study-plan {
            background: linear-gradient(135deg, #f8fbff, #eef2ff);
            border-radius: var(--border-radius);
            padding: 30px;
            margin: 30px 0;
            border-left: 5px solid var(--accent);
        }

        .technique-recommendation {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
        }

        .tech-icon {
            width: 60px;
            height: 60px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
        }

        .steps-list {
            list-style: none;
            margin: 20px 0;
        }

        .steps-list li {
            padding: 10px 0 10px 35px;
            position: relative;
        }

        .steps-list li::before {
            content: '✓';
            position: absolute;
            left: 0;
            top: 10px;
            width: 24px;
            height: 24px;
            background: var(--success);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            padding: 60px 0 30px;
            margin-top: 80px;
        }

        .footer-content {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .ai-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            margin-bottom: 20px;
        }

        /* Buttons */
        .btn {
            padding: 14px 32px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(67, 97, 238, 0.3);
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: white;
        }

        .btn-large {
            padding: 18px 45px;
            font-size: 1.1rem;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .articles-grid {
                grid-template-columns: 1fr;
            }
            
            .diagnostic-container {
                padding: 25px;
            }
            
            .quiz-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container nav-container">
            <div class="logo">
                <i class="fas fa-brain"></i>
                <span>StudyMind AI</span>
            </div>
            <nav>
                <a href="#articles" style="margin-right: 20px; text-decoration: none; color: var(--dark); font-weight: 500;">Articles</a>
                <a href="#diagnostic" style="text-decoration: none; color: var(--dark); font-weight: 500;">Diagnostic</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Your AI Study Assistant</h1>
            <p>Upload your textbook or study material. Get a personalized diagnostic quiz, learning profile analysis, and custom study plan designed just for you.</p>
            <button class="btn btn-primary btn-large" id="startBtn">
                <i class="fas fa-rocket"></i> Start AI Diagnostic
            </button>
        </div>
    </section>

    <!-- Articles Section -->
    <section id="articles" class="container">
        <h2 class="section-title">Study Techniques & Methods</h2>
        <div class="articles-grid">
            <!-- Article 1 -->
            <article class="article-card">
                <div class="article-header">
                    <h2><i class="fas fa-lightbulb"></i> Study Techniques</h2>
                    <p>Evidence-based learning strategies</p>
                </div>
                <div class="article-content">
                    <div class="method-grid">
                        <div class="method-item">
                            <strong>Active Recall</strong>
                            Testing yourself without looking at material to strengthen memory.
                        </div>
                        <div class="method-item">
                            <strong>Spaced Repetition</strong>
                            Reviewing information at increasing intervals over time.
                        </div>
                        <div class="method-item">
                            <strong>Feynman Technique</strong>
                            Teaching concepts in simple language to identify gaps.
                        </div>
                        <div class="method-item">
                            <strong>Interleaving</strong>
                            Mixing different topics during study sessions.
                        </div>
                    </div>
                </div>
            </article>

            <!-- Article 2 -->
            <article class="article-card">
                <div class="article-header">
                    <h2><i class="fas fa-chart-bar"></i> Methods Analysis</h2>
                    <p>Strengths and weaknesses of each approach</p>
                </div>
                <div class="article-content">
                    <div class="method-item">
                        <strong>Active Recall</strong>
                        <span class="strength">Strengths:</span> Highly effective for long-term retention, identifies knowledge gaps<br>
                        <span class="weakness">Weaknesses:</span> Can be mentally taxing, requires discipline
                    </div>
                    <div class="method-item">
                        <strong>Feynman Technique</strong>
                        <span class="strength">Strengths:</span> Deepens conceptual understanding, reveals misunderstandings<br>
                        <span class="weakness">Weaknesses:</span> Time-consuming for complex topics
                    </div>
                    <div class="method-item">
                        <strong>Spaced Repetition</strong>
                        <span class="strength">Strengths:</span> Optimizes memory retention, efficient over time<br>
                        <span class="weakness">Weaknesses:</span> Requires consistent schedule, less effective for concepts
                    </div>
                    <div class="method-item">
                        <strong>Blurting Method</strong>
                        <span class="strength">Strengths:</span> Quick assessment, active recall practice<br>
                        <span class="weakness">Weaknesses:</span> Can be discouraging if knowledge is limited
                    </div>
                </div>
            </article>
        </div>
    </section>

    <!-- Diagnostic Section -->
    <section id="diagnostic" class="container">
        <div class="diagnostic-container">
            <h2 class="section-title">AI Study Diagnostic</h2>
            
            <!-- Upload Area -->
            <div class="upload-area" id="uploadArea">
                <i class="fas fa-cloud-upload-alt upload-icon"></i>
                <h3>Upload Your Study Material</h3>
                <p>Upload a PDF textbook, notes, or study guide. Our AI will analyze the content and create a personalized diagnostic quiz.</p>
                <p style="color: var(--gray); font-size: 0.9rem; margin-top: 10px;">Supported: PDF files up to 50MB</p>
                
                <input type="file" id="pdfUpload" class="file-input" accept=".pdf">
                <label for="pdfUpload" class="upload-btn">
                    <i class="fas fa-file-pdf"></i> Choose PDF File
                </label>
                
                <div class="selected-file" id="selectedFile" style="display: none;">
                    <div class="file-info">
                        <i class="fas fa-file-pdf"></i>
                        <span id="fileName">No file selected</span>
                        <button id="removeFile" style="background: none; border: none; color: var(--danger); cursor: pointer; margin-left: 10px;">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Processing Animation -->
            <div class="processing-area" id="processingArea">
                <div class="spinner"></div>
                <h3>AI is Analyzing Your Document</h3>
                <p>Reading and understanding content... Identifying key concepts and topics...</p>
                <div style="margin-top: 20px; color: var(--gray);">
                    <i class="fas fa-cog fa-spin"></i> Generating personalized quiz questions...
                </div>
            </div>

            <!-- AI Analysis Summary -->
            <div class="ai-analysis" id="aiAnalysis">
                <h3><i class="fas fa-robot"></i> AI Analysis Complete</h3>
                <p>✅ Document processed successfully</p>
                <p>✅ 12 key topics identified</p>
                <p>✅ 15 personalized questions generated</p>
                <p>✅ Difficulty level: Medium</p>
            </div>

            <!-- Generate Quiz Button -->
            <div style="text-align: center; margin-top: 40px;">
                <button class="btn btn-primary btn-large" id="generateQuizBtn" disabled>
                    <i class="fas fa-bolt"></i> Generate AI Diagnostic Quiz
                </button>
            </div>

            <!-- Quiz Section -->
            <div class="quiz-section" id="quizSection">
                <div class="quiz-header">
                    <div>
                        <h3>AI Diagnostic Quiz</h3>
                        <p style="color: var(--gray);">Answer all questions to get your personalized study plan</p>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-weight: 600; font-size: 1.1rem;">Question <span id="currentQuestion">1</span> of <span id="totalQuestions">15</span></div>
                        <div style="color: var(--gray); font-size: 0.9rem;">Time: <span id="quizTime">00:00</span></div>
                    </div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="quizProgress"></div>
                </div>

                <div id="quizQuestions">
                    <!-- Questions will be inserted here -->
                </div>

                <div style="display: flex; justify-content: space-between; margin-top: 40px;">
                    <button class="btn btn-secondary" id="prevQuestionBtn" disabled>
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="nextQuestionBtn">
                        Next Question <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-primary btn-large" id="submitQuizBtn" style="display: none;">
                        <i class="fas fa-chart-line"></i> Submit Quiz & Get Analysis
                    </button>
                </div>
            </div>

            <!-- Results Section -->
            <div class="results-section" id="resultsSection">
                <!-- Results will be inserted here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container footer-content">
            <div class="ai-badge">
                <i class="fas fa-robot"></i>
                <span>Powered by AI</span>
            </div>
            <div class="logo" style="font-size: 2rem; margin-bottom: 20px;">
                <i class="fas fa-brain"></i>
                <span>StudyMind AI</span>
            </div>
            <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 30px;">
                Personalized learning diagnostics powered by artificial intelligence.
            </p>
            <p style="color: rgba(255, 255, 255, 0.6); font-size: 0.9rem;">
                © 2023 StudyMind AI. This is a prototype demonstration.
            </p>
        </div>
    </footer>

    <script>
        // DOM Elements
        const startBtn = document.getElementById('startBtn');
        const uploadArea = document.getElementById('uploadArea');
        const pdfUpload = document.getElementById('pdfUpload');
        const selectedFile = document.getElementById('selectedFile');
        const fileName = document.getElementById('fileName');
        const removeFileBtn = document.getElementById('removeFile');
        const generateQuizBtn = document.getElementById('generateQuizBtn');
        const processingArea = document.getElementById('processingArea');
        const aiAnalysis = document.getElementById('aiAnalysis');
        const quizSection = document.getElementById('quizSection');
        const quizQuestions = document.getElementById('quizQuestions');
        const currentQuestionEl = document.getElementById('currentQuestion');
        const totalQuestionsEl = document.getElementById('totalQuestions');
        const quizProgress = document.getElementById('quizProgress');
        const prevQuestionBtn = document.getElementById('prevQuestionBtn');
        const nextQuestionBtn = document.getElementById('nextQuestionBtn');
        const submitQuizBtn = document.getElementById('submitQuizBtn');
        const resultsSection = document.getElementById('resultsSection');

        // Sample AI-generated quiz data (simulating AI analysis)
        const aiGeneratedQuiz = {
            documentTitle: "Introduction to Psychology",
            topics: [
                { name: "Research Methods", confidence: 0 },
                { name: "Biological Bases", confidence: 0 },
                { name: "Sensation & Perception", confidence: 0 },
                { name: "Learning Theories", confidence: 0 },
                { name: "Memory Systems", confidence: 0 },
                { name: "Cognitive Processes", confidence: 0 }
            ],
            questions: [
                {
                    id: 1,
                    topic: "Research Methods",
                    type: "conceptual",
                    text: "Which of the following best describes the primary purpose of using a control group in experimental research?",
                    options: [
                        "To provide a baseline for comparing the experimental group's results",
                        "To ensure all participants receive the same treatment",
                        "To eliminate the need for random assignment",
                        "To reduce the overall cost of the research"
                    ],
                    correct: 0,
                    explanation: "Control groups provide a baseline comparison, helping researchers determine if changes in the experimental group are due to the treatment or other factors."
                },
                {
                    id: 2,
                    topic: "Biological Bases",
                    type: "factual",
                    text: "Which part of the neuron is primarily responsible for receiving signals from other neurons?",
                    options: [
                        "Dendrites",
                        "Axon",
                        "Myelin sheath",
                        "Synapse"
                    ],
                    correct: 0,
                    explanation: "Dendrites are the branched extensions of neurons that receive electrical signals from other neurons."
                },
                {
                    id: 3,
                    topic: "Sensation & Perception",
                    type: "application",
                    text: "If a person with normal vision looks at a green circle for 30 seconds and then looks at a white wall, what color afterimage would they most likely see?",
                    options: [
                        "Red",
                        "Blue",
                        "Yellow",
                        "Purple"
                    ],
                    correct: 0,
                    explanation: "According to opponent-process theory, staring at green fatigues green receptors, causing the opponent red receptors to be more active when looking at white."
                },
                {
                    id: 4,
                    topic: "Learning Theories",
                    type: "critical",
                    text: "Why would variable-ratio reinforcement schedules produce behavior that is most resistant to extinction?",
                    options: [
                        "Because the reinforcement is unpredictable, making it hard to detect when it has stopped",
                        "Because it provides the most frequent reinforcement",
                        "Because it's the easiest schedule for subjects to understand",
                        "Because it only reinforces perfect responses"
                    ],
                    correct: 0,
                    explanation: "Variable-ratio schedules create high, steady response rates with high resistance to extinction because reinforcement is unpredictable."
                },
                {
                    id: 5,
                    topic: "Memory Systems",
                    type: "conceptual",
                    text: "What is the key difference between explicit (declarative) memory and implicit (non-declarative) memory?",
                    options: [
                        "Explicit memory requires conscious recall, while implicit memory does not",
                        "Explicit memory is only for facts, while implicit memory is only for skills",
                        "Explicit memory lasts longer than implicit memory",
                        "Explicit memory is stored in the hippocampus, while implicit memory is stored in the cerebellum"
                    ],
                    correct: 0,
                    explanation: "The primary distinction is that explicit memories require conscious effort to recall, while implicit memories are recalled unconsciously."
                },
                {
                    id: 6,
                    topic: "Cognitive Processes",
                    type: "application",
                    text: "A student is trying to solve a physics problem but keeps applying a formula that worked for similar-looking problems in the past. What cognitive barrier are they experiencing?",
                    options: [
                        "Mental set",
                        "Confirmation bias",
                        "Availability heuristic",
                        "Functional fixedness"
                    ],
                    correct: 0,
                    explanation: "Mental set refers to the tendency to approach problems using previously successful strategies even when they're not optimal for the current problem."
                }
            ]
        };

        // Quiz state
        let currentQuestion = 0;
        let userAnswers = new Array(aiGeneratedQuiz.questions.length).fill(null);
        let quizStartTime = null;
        let timerInterval = null;

        // Event Listeners
        startBtn.addEventListener('click', () => {
            document.getElementById('diagnostic').scrollIntoView({ behavior: 'smooth' });
        });

        // Handle PDF upload
        pdfUpload.addEventListener('change', function() {
            if (this.files.length > 0) {
                const file = this.files[0];
                fileName.textContent = file.name;
                selectedFile.style.display = 'flex';
                uploadArea.classList.add('active');
                generateQuizBtn.disabled = false;
                
                // Simulate AI analysis
                simulateAIAnalysis();
            }
        });

        // Remove file
        removeFileBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            pdfUpload.value = '';
            selectedFile.style.display = 'none';
            uploadArea.classList.remove('active');
            generateQuizBtn.disabled = true;
            processingArea.style.display = 'none';
            aiAnalysis.style.display = 'none';
        });

        // Generate quiz
        generateQuizBtn.addEventListener('click', () => {
            startQuiz();
        });

        // Next question
        nextQuestionBtn.addEventListener('click', () => {
            if (currentQuestion < aiGeneratedQuiz.questions.length - 1) {
                currentQuestion++;
                renderQuestion();
                updateNavigation();
            }
        });

        // Previous question
        prevQuestionBtn.addEventListener('click', () => {
            if (currentQuestion > 0) {
                currentQuestion--;
                renderQuestion();
                updateNavigation();
            }
        });

        // Submit quiz
        submitQuizBtn.addEventListener('click', () => {
            calculateResults();
        });

        // Functions
        function simulateAIAnalysis() {
            processingArea.style.display = 'block';
            aiAnalysis.style.display = 'none';
            
            // Simulate AI processing time
            setTimeout(() => {
                processingArea.style.display = 'none';
                aiAnalysis.style.display = 'block';
                
                // Update document title in UI
                document.querySelector('.ai-analysis h3').innerHTML = 
                    `<i class="fas fa-robot"></i> AI Analysis Complete: "${aiGeneratedQuiz.documentTitle}"`;
            }, 2500);
        }

        function startQuiz() {
            quizSection.style.display = 'block';
            currentQuestion = 0;
            userAnswers.fill(null);
            quizStartTime = new Date();
            
            // Start timer
            clearInterval(timerInterval);
            timerInterval = setInterval(updateTimer, 1000);
            
            // Initialize quiz
            totalQuestionsEl.textContent = aiGeneratedQuiz.questions.length;
            renderQuestion();
            updateNavigation();
            
            // Scroll to quiz
            quizSection.scrollIntoView({ behavior: 'smooth' });
        }

        function renderQuestion() {
            const question = aiGeneratedQuiz.questions[currentQuestion];
            currentQuestionEl.textContent = currentQuestion + 1;
            
            // Calculate progress
            const progress = ((currentQuestion + 1) / aiGeneratedQuiz.questions.length) * 100;
            quizProgress.style.width = `${progress}%`;
            
            // Create question HTML
            const typeClass = question.type === 'conceptual' ? 'conceptual' :
                            question.type === 'application' ? 'application' :
                            question.type === 'factual' ? 'factual' : 'critical';
            
            let optionsHTML = '';
            const letters = ['A', 'B', 'C', 'D'];
            
            question.options.forEach((option, index) => {
                let optionClass = 'option';
                if (userAnswers[currentQuestion] === index) {
                    optionClass += ' selected';
                }
                
                optionsHTML += `
                    <div class="${optionClass}" data-index="${index}">
                        <div class="option-letter">${letters[index]}</div>
                        <div class="option-text">${option}</div>
                    </div>
                `;
            });
            
            quizQuestions.innerHTML = `
                <div class="quiz-question">
                    <div class="question-meta">
                        <div class="question-type ${typeClass}">
                            ${question.type.toUpperCase()}
                        </div>
                        <div>
                            <i class="fas fa-book"></i> Topic: ${question.topic}
                        </div>
                    </div>
                    <div class="question-text">
                        ${question.text}
                    </div>
                    <div class="options-grid">
                        ${optionsHTML}
                    </div>
                </div>
            `;
            
            // Add event listeners to options
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const selectedIndex = parseInt(this.getAttribute('data-index'));
                    
                    // Remove selected class from all options in this question
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Save answer
                    userAnswers[currentQuestion] = selectedIndex;
                    
                    // Enable submit button if all questions answered
                    const allAnswered = userAnswers.every(answer => answer !== null);
                    submitQuizBtn.style.display = allAnswered ? 'block' : 'none';
                });
            });
        }

        function updateNavigation() {
            prevQuestionBtn.disabled = currentQuestion === 0;
            nextQuestionBtn.disabled = currentQuestion === aiGeneratedQuiz.questions.length - 1;
        }

        function updateTimer() {
            if (!quizStartTime) return;
            
            const now = new Date();
            const diff = Math.floor((now - quizStartTime) / 1000);
            const minutes = Math.floor(diff / 60);
            const seconds = diff % 60;
            
            document.getElementById('quizTime').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function calculateResults() {
            clearInterval(timerInterval);
            
            // Calculate scores
            let correctCount = 0;
            const topicScores = {};
            const topicResponseTimes = {};
            
            // Initialize topic tracking
            aiGeneratedQuiz.topics.forEach(topic => {
                topicScores[topic.name] = { correct: 0, total: 0 };
                topicResponseTimes[topic.name] = [];
            });
            
            // Calculate correctness and topic scores
            aiGeneratedQuiz.questions.forEach((question, index) => {
                const isCorrect = userAnswers[index] === question.correct;
                if (isCorrect) correctCount++;
                
                // Track topic performance
                if (topicScores[question.topic]) {
                    topicScores[question.topic].total++;
                    if (isCorrect) topicScores[question.topic].correct++;
                }
            });
            
            const overallScore = Math.round((correctCount / aiGeneratedQuiz.questions.length) * 100);
            
            // Determine learning profile
            let learningProfile = "Mixed Learner";
            if (overallScore >= 80) learningProfile = "Conceptual Learner";
            else if (overallScore >= 60) learningProfile = "Application-oriented Learner";
            else if (overallScore >= 40) learningProfile = "Mixed Learner";
            else learningProfile = "Memorization-based Learner";
            
            // Determine strong/weak topics
            const topicPerformance = [];
            for (const [topic, scores] of Object.entries(topicScores)) {
                if (scores.total > 0) {
                    const accuracy = Math.round((scores.correct / scores.total) * 100);
                    topicPerformance.push({
                        name: topic,
                        accuracy: accuracy,
                        strength: accuracy >= 70 ? "strong" : accuracy >= 40 ? "medium" : "weak"
                    });
                }
            }
            
            // Sort topics by accuracy
            topicPerformance.sort((a, b) => b.accuracy - a.accuracy);
            
            // Determine study technique
            let technique = "Active Recall with Spaced Repetition";
            let techniqueReason = "Your balanced performance across different question types suggests you'd benefit from a combination of memory reinforcement and conceptual understanding.";
            
            if (learningProfile === "Conceptual Learner") {
                technique = "Feynman Technique";
                techniqueReason = "Your strong conceptual understanding means you can deepen your learning by explaining concepts to others, which will help identify any remaining gaps.";
            } else if (learningProfile === "Application-oriented Learner") {
                technique = "Practice-based Learning with Interleaving";
                techniqueReason = "You learn best by doing. Mixing different types of problems will help you apply concepts more flexibly.";
            } else if (learningProfile === "Memorization-based Learner") {
                technique = "Active Recall with Blurting Method";
                techniqueReason = "You need to strengthen recall of key facts. Testing yourself regularly will help move information from short-term to long-term memory.";
            }
            
            // Generate results HTML
            renderResults(overallScore, learningProfile, topicPerformance, technique, techniqueReason);
        }

        function renderResults(overallScore, learningProfile, topicPerformance, technique, techniqueReason) {
            quizSection.style.display = 'none';
            resultsSection.style.display = 'block';
            
            // Determine icon for learning profile
            let profileIcon = "fas fa-user";
            let profileColor = "var(--primary)";
            
            if (learningProfile === "Conceptual Learner") {
                profileIcon = "fas fa-lightbulb";
                profileColor = "var(--warning)";
            } else if (learningProfile === "Application-oriented Learner") {
                profileIcon = "fas fa-cogs";
                profileColor = "var(--success)";
            } else if (learningProfile === "Memorization-based Learner") {
                profileIcon = "fas fa-brain";
                profileColor = "var(--accent)";
            }
            
            // Create topics HTML
            let topicsHTML = '';
            topicPerformance.forEach(topic => {
                topicsHTML += `
                    <div class="topic-item ${topic.strength}">
                        <div class="topic-header">
                            <strong>${topic.name}</strong>
                            <span>${topic.accuracy}%</span>
                        </div>
                        <div class="progress-bar" style="height: 6px; margin-top: 10px;">
                            <div class="progress-fill" style="width: ${topic.accuracy}%; background: ${topic.strength === 'strong' ? 'var(--success)' : topic.strength === 'medium' ? 'var(--warning)' : 'var(--danger)'};"></div>
                        </div>
                    </div>
                `;
            });
            
            resultsSection.innerHTML = `
                <div class="profile-card">
                    <div class="profile-header">
                        <div class="profile-icon" style="background: linear-gradient(135deg, ${profileColor}, ${profileColor}dd);">
                            <i class="${profileIcon}"></i>
                        </div>
                        <div>
                            <h2 style="color: var(--secondary); margin-bottom: 5px;">Your Learning Profile</h2>
                            <h1 style="color: ${profileColor};">${learningProfile}</h1>
                            <p style="color: var(--gray);">Based on your diagnostic quiz performance</p>
                        </div>
                    </div>
                    
                    <div class="confidence-meter">
                        <div class="meter" style="flex: 2;">
                            <div class="meter-label">
                                <span>Overall Understanding</span>
                                <strong>${overallScore}%</strong>
                            </div>
                            <div class="meter-bar">
                                <div class="meter-fill" style="width: ${overallScore}%;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin: 30px 0;">
                        <h3 style="color: var(--secondary); margin-bottom: 20px;">Performance Analysis</h3>
                        <p>
                            ${overallScore >= 70 ? 
                                "Great work! You have a solid understanding of the material." :
                                overallScore >= 50 ?
                                "You have a foundational understanding but there's room for improvement." :
                                "You're in the early stages of understanding this material. Let's build a strong foundation."}
                        </p>
                        
                        ${overallScore < 70 ? `
                            <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 15px; border-left: 4px solid var(--warning);">
                                <strong><i class="fas fa-exclamation-triangle"></i> Areas for Focus:</strong>
                                <p style="margin-top: 8px;">${topicPerformance.filter(t => t.strength === 'weak').map(t => t.name).join(', ')}</p>
                            </div>
                        ` : ''}
                    </div>
                </div>
                
                <div class="profile-card">
                    <h3 style="color: var(--secondary); margin-bottom: 20px;">Topic-wise Breakdown</h3>
                    <p style="margin-bottom: 20px; color: var(--gray);">Your performance across different topics in the material:</p>
                    
                    <div class="topics-breakdown">
                        ${topicsHTML}
                    </div>
                    
                    <div style="margin-top: 30px; padding: 20px; background: var(--gray-light); border-radius: 8px;">
                        <p><strong>Summary:</strong> ${topicPerformance[0] ? `You understand <strong>${topicPerformance[0].name}</strong> well (${topicPerformance[0].accuracy}%).` : ''}</p>
                        <p>${topicPerformance[topicPerformance.length - 1] ? `You struggle most with <strong>${topicPerformance[topicPerformance.length - 1].name}</strong> because ${topicPerformance[topicPerformance.length - 1].accuracy < 40 ? 'you need more foundational understanding' : 'you need more practice with application'}.</p>` : ''}
                    </div>
                </div>
                
                <div class="study-plan">
                    <h3 style="color: var(--secondary); margin-bottom: 25px;"><i class="fas fa-graduation-cap"></i> Your Personalized Study Plan</h3>
                    
                    <div class="technique-recommendation">
                        <div class="tech-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 5px; color: var(--dark);">Recommended Technique: ${technique}</h4>
                            <p style="color: var(--gray);">${techniqueReason}</p>
                        </div>
                    </div>
                    
                    <h4 style="color: var(--secondary); margin: 25px 0 15px;">Step-by-Step Study Plan:</h4>
                    <ol class="steps-list">
                        <li><strong>Day 1:</strong> Review weak topics using the ${technique.split(' ')[0]} method (45 mins)</li>
                        <li><strong>Day 2:</strong> Practice application questions from medium-strength topics (60 mins)</li>
                        <li><strong>Day 3:</strong> Teach back strong topics using the Feynman technique (30 mins)</li>
                        <li><strong>Day 4:</strong> Mixed practice with spaced repetition (45 mins)</li>
                        <li><strong>Day 5:</strong> Full review and self-testing (60 mins)</li>
                    </ol>
                    
                    <div style="background: white; padding: 20px; border-radius: 8px; margin: 25px 0;">
                        <h4 style="color: var(--secondary); margin-bottom: 10px;"><i class="fas fa-clock"></i> Daily Study Time</h4>
                        <p><strong>Recommended:</strong> 45-60 minutes per day, 5 days a week</p>
                        <p><strong>Focus ratio:</strong> 60% on weak topics, 30% on medium topics, 10% on strong topics</p>
                    </div>
                    
                    <div style="background: #fff5f5; padding: 20px; border-radius: 8px; border-left: 4px solid var(--danger);">
                        <h4 style="color: var(--danger); margin-bottom: 10px;"><i class="fas fa-ban"></i> What NOT to Do</h4>
                        <ul style="padding-left: 20px;">
                            <li>Don't just re-read the material passively</li>
                            <li>Don't cram all studying into one long session</li>
                            <li>Don't ignore your weak topics</li>
                            <li>Don't study without breaks (follow 45-15 minute intervals)</li>
                        </ul>
                    </div>
                    
                    <div style="text-align: center; margin-top: 30px;">
                        <button class="btn btn-primary" id="newDiagnosticBtn">
                            <i class="fas fa-redo"></i> Start New Diagnostic
                        </button>
                        <button class="btn btn-secondary" style="margin-left: 15px;" id="savePlanBtn">
                            <i class="fas fa-download"></i> Save Study Plan
                        </button>
                    </div>
                </div>
            `;
            
            // Add event listeners to new buttons
            document.getElementById('newDiagnosticBtn').addEventListener('click', () => {
                location.reload();
            });
            
            document.getElementById('savePlanBtn').addEventListener('click', () => {
                alert('Study plan saved! (In a real application, this would download a PDF study plan)');
            });
            
            // Scroll to results
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize
        updateTimer();
    </script>
</body>
</html>
